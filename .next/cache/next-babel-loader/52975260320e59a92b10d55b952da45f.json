{"ast":null,"code":"\"use strict\";\n\nconst convict = require(\"convict\");\n\nconst path = require(\"path\");\n\nconst getConfig = env => {\n  const config = convict({\n    env: {\n      doc: \"The application environment.\",\n      format: [\"prod\", \"local\"],\n      default: \"local\",\n      env: \"NODE_ENV\"\n    },\n    port: {\n      doc: \"Port to bind.\",\n      format: \"port\",\n      default: 4000,\n      env: \"PORT\"\n    },\n    scout: {\n      baseURL: \"https://www.scout.now.sh\"\n    }\n  }); // Load environment dependent configuration\n\n  env = env || config.get(\"env\");\n\n  try {\n    config.loadFile(path.join(__dirname, \"./envs/\" + env + \".json\"));\n  } catch (error) {\n    console.error({\n      error,\n      message: `Unable to override config with ${env}.json`\n    });\n  } // Perform validation\n\n\n  config.validate({\n    allowed: \"strict\"\n  });\n  return config;\n};\n\nmodule.exports = getConfig;","map":null,"metadata":{},"sourceType":"script"}